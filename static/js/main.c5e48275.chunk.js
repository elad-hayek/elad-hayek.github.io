(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){},150:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var c=a(87),n=a(1),r=a.n(n),o=a(29),i=a.n(o),s=a(13),d=a(123),u=a(127),l=a(78),j=a(125),h=a(128),b=a(47),O=a(3),f="ADD_TO_FAVORITES",m="REMOVE_FROM_FAVORITES",p="UPDATE_MAIN_LOCATION_TO_VIEW",v="FETCH_CURRENT_WEATHER_REQUEST",x="FETCH_CURRENT_WEATHER_SUCCESS",y="FETCH_CURRENT_WEATHER_FAILURE",g="FETCH_FORCAST_REQUEST",T="FETCH_FORCAST_SUCCESS",E="FETCH_FORCAST_FAILURE",N="FETCH_LOCATIONS_REQUEST",w="FETCH_LOCATIONS_SUCCESS",S="FETCH_LOCATIONS_FAILURE",R="ADD_TO_ERROR_STACK",_="REMOVE_FROM_ERROR_STACK",C="CHANGE_APP_THEME",k={favorites:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case f:return Object(O.a)(Object(O.a)({},e),{},{favorites:[].concat(Object(b.a)(e.favorites),[c])});case m:return Object(O.a)(Object(O.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==c}))});default:return e}},F={locationToView:{},errorStack:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case p:return Object(O.a)(Object(O.a)({},e),{},{locationToView:c});case R:return Object(O.a)(Object(O.a)({},e),{},{errorStack:e.errorStack.concat(c)});case _:return Object(O.a)(Object(O.a)({},e),{},{errorStack:e.errorStack.filter((function(e){return e.id!==c}))});default:return e}},M={loading:!1,data:[],error:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case v:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case x:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:c,error:""});case y:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:c});default:return e}},I={loading:!1,data:{},error:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case g:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case T:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:c,error:""});case E:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:c});default:return e}},V={loading:!1,data:[],error:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case N:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case w:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:c,error:""});case S:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:c});default:return e}},D=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],z="light",K="dark",B={theme:z},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;return a===C?Object(O.a)(Object(O.a)({},e),{},{theme:c}):e},Q=function(e){return Object(l.combineReducers)({router:Object(c.b)(e),app:P,home:H,favorites:A,currentWeather:L,forcast:U,locations:W})},q=Object(u.a)();var J,G=a(18),X="/",Y="/favorites",Z=(a(146),a(186)),$=function(e){return{type:p,payload:e}},ee=function(e){return{type:R,payload:e}},te=(a(147),"2F60lQOTqu1hJwzHRybkqr3S0cS1SdtU"),ae="https://dataservice.accuweather.com/forecasts/v1/daily/5day/",ce="215854",ne="Tel Aviv",re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"or";switch(t){case"or":return 0===Object.keys(e).length||void 0===e||null===e;case"and":return 0!==Object.keys(e).length&&void 0!==e&&null!==e;default:return!1}},oe=a(48),ie=a.n(oe),se=a(64),de=function(){return{type:g}},ue=function(e){return{type:T,payload:e}},le=function(e){return{type:E,payload:e}},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(se.a)(ie.a.mark((function a(c){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(de()),a.next=3,fetch("".concat(ae).concat(e,"?apikey=").concat(te,"&metric=").concat(t)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(t){c(ue({id:e,forcasts:t.DailyForecasts}))})).catch((function(e){c(ee({id:Math.random(),name:"Home - forcast",error:e.message})),c(le(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},he=a(2),be=function(e){var t=e.location,a=Object(s.d)(),c=Object(s.e)((function(e){return e.forcast})),n=Object(s.e)((function(e){return e.app.theme})),r=Object(G.f)();return Object(he.jsx)("div",{className:"location-card ".concat(n),children:Object(he.jsxs)(Z.a,{onClick:function(){a($(t)),(re(c.data)||c.data.id!==t.id)&&a(je(t.id,!0)),r.push(X)},bg:n,variant:n,children:[Object(he.jsx)(Z.a.Header,{as:"h5",children:t.name}),Object(he.jsxs)(Z.a.Body,{children:[Object(he.jsx)(Z.a.Title,{children:t.location.WeatherText}),Object(he.jsxs)(Z.a.Text,{children:[t.location.Temperature.Metric.Value," \u2103"]})]})]})})},Oe=function(){var e=Object(s.e)((function(e){return e.favorites.favorites}));return Object(he.jsx)("div",{className:"favorites-container",children:0!==e.length?Object(he.jsx)("div",{className:"favorites-cards-container",children:e.map((function(e){return Object(he.jsx)(be,{location:e},Math.random())}))}):Object(he.jsx)("div",{className:"no-locations-text",children:"No locations have been added go to the home page to add locations now !"})})},fe=a(14),me=a(177),pe=(a(150),a(133)),ve=function(e){return{type:w,payload:e}},xe=function(e){return{type:x,payload:e}},ye=function(e,t){return function(){var a=Object(se.a)(ie.a.mark((function a(c){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:v}),a.next=3,fetch("".concat("https://dataservice.accuweather.com/currentconditions/v1/").concat(e,"?apikey=").concat(te)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(a){c(xe(a)),c($({id:e,name:t,location:a[0]}))})).catch((function(e){var t;c(ee({id:Math.random(),name:"Home - weather details",error:e.message})),c((t=e.message,{type:y,payload:t}))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ge=a(82),Te=a(83),Ee=function(){var e=Object(s.e)((function(e){return e.locations})),t=Object(s.e)((function(e){return e.home.locationToView})),a=Object(s.e)((function(e){return e.app.theme})),c=Object(s.d)(),r=Object(n.useState)([]),o=Object(fe.a)(r,2),i=o[0],d=o[1];return Object(n.useEffect)((function(){0!==i.length&&(re(t)||t.id!==i[0].Key)&&(c(ye(i[0].Key,i[0].LocalizedName)),c(je(i[0].Key,!0)))}),[i]),Object(he.jsx)("div",{className:"main-searchbar-container",children:Object(he.jsxs)(me.a,{children:[e.error&&Object(he.jsx)("small",{className:"search-error-message",children:e.error}),Object(he.jsxs)("div",{className:"container-for-adding-icon",children:[Object(he.jsx)(pe.a,{id:"city-serch-autocomplete",className:a,isLoading:e.loading,labelKey:function(e){return"".concat(e.Country.LocalizedName," - ").concat(e.LocalizedName)},onSearch:function(e){var t;c((t=e,function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:N}),e.next=3,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(te,"&q=").concat(t)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(e){a(ve(e))})).catch((function(e){var t;a((t=e.message,{type:S,payload:t}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},options:e.data,onChange:function(e){d(e)},selected:i,placeholder:"Search for a city"}),Object(he.jsx)(ge.a,{icon:Te.c,size:"lg",flip:"horizontal",style:{position:"absolute",top:"23%",right:"5%"}})]})]})})},Ne=(a(162),a(163),a(121)),we=(a(164),function(e){var t=new Date(e);return D[t.getDay()]}),Se=function(e){var t=e.forcast,a=Object(s.e)((function(e){return e.app.theme}));return Object(he.jsx)("div",{className:"mini-forcast-card",children:Object(he.jsx)(Z.a,{bg:a,variant:a,children:Object(he.jsxs)(Z.a.Body,{children:[Object(he.jsx)(Z.a.Title,{children:we(t.Date)}),Object(he.jsx)(Z.a.Subtitle,{className:"mb-2 text-muted",children:t.Day.IconPhrase}),Object(he.jsxs)(Z.a.Text,{children:[t.Temperature.Minimum.Value," \u2103 -",t.Temperature.Maximum.Value," \u2103"]})]})})})},Re=a(0),_e=a(178),Ce=a(184),ke=a(179),Ae=function(){var e=Object(s.e)((function(e){return e.favorites.favorites})),t=Object(s.e)((function(e){return e.home.locationToView})),a=Object(s.e)((function(e){return e.currentWeather})),c=Object(s.e)((function(e){return e.forcast})),r=Object(s.d)(),o=Object(n.useState)(!1),i=Object(fe.a)(o,2),d=i[0],u=i[1];Object(n.useEffect)((function(){return e.forEach((function(e){e.id===t.id&&u(!0)})),function(){u(!1)}}),[t]);var l;return Object(he.jsx)("div",{className:"information-card-container",children:Object(he.jsxs)("div",{className:"information-card",children:[a.loading?Object(he.jsx)("div",{className:"top-of-information-card",children:Object(he.jsx)(_e.a,{className:"current-weather-spinner",animation:"border",role:"status",children:Object(he.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):a.error?Object(he.jsx)("div",{className:"top-of-information-card",children:Object(he.jsx)("div",{children:a.error})}):re(t)?Object(he.jsx)("div",{}):Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)("div",{className:"top-of-information-card",children:[Object(he.jsx)("div",{className:"today-city-information",children:Object(he.jsxs)("div",{className:"today-city-name-and-temperature",children:[Object(he.jsx)("div",{children:t.name}),Object(he.jsxs)("div",{children:[t.location.Temperature.Metric.Value," \u2103"]})]})}),Object(he.jsxs)("div",{className:"middle-of-information-card",children:[Object(he.jsx)("div",{className:"weather-icon-container",children:Object(he.jsx)("img",{alt:"",src:(l=t.location.WeatherIcon,l<10&&(l="0".concat(l)),"https://developer.accuweather.com/sites/default/files/@@-s.png".replace("@@",l))})}),Object(he.jsx)("span",{className:"current-weather-text",children:t.location.WeatherText})]}),Object(he.jsx)(Ce.a,{placement:"top",overlay:Object(he.jsx)(ke.a,{children:d?"Remove from favorites":"Add to favorites"}),children:Object(he.jsx)("div",{className:"add-to-favorites-container",children:Object(he.jsxs)(Re.b.Provider,{value:{className:"favorites-icon"},children:[!d&&Object(he.jsx)(Ne.b,{onClick:function(){r({type:f,payload:t}),u(!0)}}),d&&Object(he.jsx)(Ne.a,{onClick:function(){var e;r((e=t.id,{type:m,payload:e})),u(!1)}})]})})})]})}),Object(he.jsx)("div",{className:"bottom-of-information-card",children:Object(he.jsx)("div",{className:"mini-forcast-cards-container",children:c.loading?Object(he.jsx)(_e.a,{animation:"border",role:"status",children:Object(he.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):c.error?Object(he.jsx)("div",{children:c.error}):re(c.data,"and")&&c.data.forcasts.map((function(e){return Object(he.jsx)(Se,{forcast:e},Math.random())}))})})]})})},Fe=a(185),He=function(e){var t=e.id,a=e.name,c=e.error,n=Object(s.d)();return Object(he.jsxs)(Fe.a,{onClose:function(){n(function(e){return{type:_,payload:e}}(t))},delay:3e3,autohide:!0,bg:"danger",children:[Object(he.jsx)(Fe.a.Header,{children:Object(he.jsx)("strong",{className:"me-auto",children:a})}),Object(he.jsx)(Fe.a.Body,{className:"text-white",children:c})]})},Me=a(180),Le=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.currentWeather})),a=Object(s.e)((function(e){return e.forcast})),c=Object(s.e)((function(e){return e.home.errorStack}));return Object(n.useEffect)((function(){0===t.data.length&&e(ye(ce,ne)),re(a.data)&&e(je(ce,!0))}),[]),Object(he.jsxs)("div",{children:[Object(he.jsx)(Me.a,{position:"top-center",children:c.map((function(e){return Object(he.jsx)(He,{id:e.id,name:e.name,error:e.error},e.id)}))}),Object(he.jsxs)("div",{className:"search-and-info-container",children:[Object(he.jsx)(Ee,{}),Object(he.jsx)("div",{className:"home-information-container",children:Object(he.jsx)(Ae,{})})]})]})},Ie=a(181),Ue=a(131),Ve=a(183),We=a(182),De=a(80),ze=(a(165),function(e){return{type:C,payload:e}}),Ke=function(){var e=Object(s.e)((function(e){return e.app.theme})),t=Object(s.d)(),a=Object(n.useRef)(!1);return Object(he.jsx)(Ie.a,{id:"navbar",bg:e,variant:e,children:Object(he.jsxs)(me.a,{children:[Object(he.jsx)(Ue.a,{children:Object(he.jsxs)(Ie.a.Brand,{as:De.a,to:X,children:[Object(he.jsx)(ge.a,{icon:Te.a,size:"lg",style:{marginRight:10}}),"Weather App"]})}),!a.current.checked&&Object(he.jsx)(ge.a,{icon:Te.d,size:"lg",style:{marginRight:10}}),a.current.checked&&Object(he.jsx)(ge.a,{icon:Te.b,size:"lg",style:{marginRight:10,color:"#fff"}}),Object(he.jsx)(Ve.a.Check,{ref:a,className:"theme-switch",type:"switch",onChange:function(){a.current.checked?t(ze(K)):t(ze(z))}}),Object(he.jsxs)(We.a,{children:[Object(he.jsx)(We.a.Link,{as:De.a,to:X,children:"Home"}),Object(he.jsx)(We.a.Link,{as:De.a,to:Y,children:"Favorites"})]})]})})},Be=(a(168),function(){var e=Object(s.e)((function(e){return e.app.theme}));return Object(n.useEffect)((function(){switch(e){case K:document.body.className="body-dark";break;case z:document.body.className="body-light";break;default:return}}),[e]),Object(he.jsxs)("div",{className:"app-container",children:[Object(he.jsx)(Ke,{}),Object(he.jsxs)(G.c,{children:[Object(he.jsx)(G.a,{exact:!0,path:X,component:Le}),Object(he.jsx)(G.a,{path:Y,component:Oe})]})]})}),Pe=(a(169),Object(l.createStore)(Q(q),J,Object(j.composeWithDevTools)(Object(l.applyMiddleware)(Object(d.a)(q),h.a))));i.a.render(Object(he.jsx)(r.a.StrictMode,{children:Object(he.jsx)(s.a,{store:Pe,children:Object(he.jsx)(c.a,{history:q,children:Object(he.jsx)(G.c,{children:Object(he.jsx)(G.a,{path:"/",component:Be})})})})}),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.c5e48275.chunk.js.map