(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},104:function(e,t,a){},113:function(e){e.exports=JSON.parse("{}")},114:function(e){e.exports=JSON.parse("{}")},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},121:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(53),r=a(1),c=a.n(r),o=a(23),i=a.n(o),s=a(14),d=a(76),u=a(80),j=a(48),l=a(78),h=a(81),O=a(69),f=a(4),b="ADD_TO_FAVORITES",m="REMOVE_FROM_FAVORITES",p="UPDATE_MAIN_LOCATION_TO_VIEW",v="FETCH_CURRENT_WEATHER_REQUEST",x="FETCH_CURRENT_WEATHER_SUCCESS",y="FETCH_CURRENT_WEATHER_FAILURE",g="FETCH_FORCAST_REQUEST",T="FETCH_FORCAST_SUCCESS",E="FETCH_FORCAST_FAILURE",N="FETCH_LOCATIONS_REQUEST",w="FETCH_LOCATIONS_SUCCESS",S="FETCH_LOCATIONS_FAILURE",_="ADD_TO_ERROR_STACK",C="REMOVE_FROM_ERROR_STACK",R={favorites:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b:return Object(f.a)(Object(f.a)({},e),{},{favorites:[].concat(Object(O.a)(e.favorites),[n])});case m:return Object(f.a)(Object(f.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==n}))});default:return e}},F={locationToView:{},errorStack:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p:return Object(f.a)(Object(f.a)({},e),{},{locationToView:n});case _:return Object(f.a)(Object(f.a)({},e),{},{errorStack:e.errorStack.concat(n)});case C:return Object(f.a)(Object(f.a)({},e),{},{errorStack:e.errorStack.filter((function(e){return e.id!==n}))});default:return e}},H={loading:!1,data:[],error:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case x:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:n,error:""});case y:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:n});default:return e}},M=(a(75),{loading:!1,data:{},error:""}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case T:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:n,error:""});case E:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:n});default:return e}},V={loading:!1,data:[],error:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case w:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,data:n,error:""});case S:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:n});default:return e}},W=function(e){return Object(j.combineReducers)({router:Object(n.b)(e),home:k,favorites:A,currentWeather:L,forcast:I,locations:U})},D=Object(u.a)();var K,B=a(15),J="/",z="/favorites",P=(a(100),a(136)),G=function(e){return{type:p,payload:e}},Q=function(e){return{type:_,payload:e}},q=(a(101),"LGugoLfVGSvCt2rtGDuP7oAm38jhBn7N"),X="https://dataservice.accuweather.com/forecasts/v1/daily/5day/",Y="215854",Z="Tel Aviv",$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"or";switch(t){case"or":return 0===Object.keys(e).length||void 0===e||null===e;case"and":return 0!==Object.keys(e).length&&void 0!==e&&null!==e;default:return!1}},ee=a(32),te=a.n(ee),ae=a(43),ne=function(){return{type:g}},re=function(e){return{type:T,payload:e}},ce=function(e){return{type:E,payload:e}},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ae.a)(te.a.mark((function a(n){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ne()),a.next=3,fetch("".concat(X).concat(e,"?apikey=").concat(q,"&metric=").concat(t)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(t){n(re({id:e,forcasts:t.DailyForecasts}))})).catch((function(e){n(Q({id:Math.random(),name:"Home - forcast",error:e.message})),n(ce(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ie=a(2),se=function(e){var t=e.location,a=Object(s.d)(),n=Object(s.e)((function(e){return e.forcast})),r=Object(B.f)();return Object(ie.jsx)("div",{className:"location-card",children:Object(ie.jsxs)(P.a,{onClick:function(){a(G(t)),($(n.data)||n.data.id!==t.id)&&a(oe(t.id,!0)),r.push(J)},children:[Object(ie.jsx)(P.a.Header,{as:"h5",children:t.name}),Object(ie.jsxs)(P.a.Body,{children:[Object(ie.jsx)(P.a.Title,{children:t.location.WeatherText}),Object(ie.jsxs)(P.a.Text,{children:[t.location.Temperature.Metric.Value," \u2103"]})]})]})})},de=function(){var e=Object(s.e)((function(e){return e.favorites.favorites}));return Object(ie.jsx)("div",{className:"favorites-container",children:0!==e.length?Object(ie.jsx)("div",{className:"favorites-cards-container",children:e.map((function(e){return Object(ie.jsx)(se,{location:e},Math.random())}))}):Object(ie.jsx)("div",{className:"no-locations-text",children:"No locations have been added go to the home page to add locations now !"})})},ue=a(22),je=a(130),le=(a(104),a(87)),he=(a(113),function(e){return{type:w,payload:e}}),Oe=function(e){return{type:x,payload:e}},fe=function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:v}),a.next=3,fetch("".concat("https://dataservice.accuweather.com/currentconditions/v1/").concat(e,"?apikey=").concat(q)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(a){n(Oe(a)),n(G({id:e,name:t,location:a[0]}))})).catch((function(e){var t;n(Q({id:Math.random(),name:"Home - weather details",error:e.message})),n((t=e.message,{type:y,payload:t}))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},be=function(){var e=Object(s.e)((function(e){return e.locations})),t=Object(s.e)((function(e){return e.home.locationToView})),a=(Object(s.e)((function(e){return e.forcast})),Object(s.d)()),n=Object(r.useState)([]),c=Object(ue.a)(n,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){0!==o.length&&($(t)||t.id!==o[0].Key)&&(console.log(o[0].Key),a(fe(o[0].Key,o[0].LocalizedName)),a(oe(o[0].Key,!0)))}),[o]),Object(ie.jsx)("div",{className:"main-searchbar-container",children:Object(ie.jsxs)(je.a,{children:[e.error&&Object(ie.jsx)("small",{className:"search-error-message",children:e.error}),Object(ie.jsx)(le.a,{id:"city-serch-autocomplete",isLoading:e.loading,labelKey:function(e){return"".concat(e.Country.LocalizedName," - ").concat(e.LocalizedName)},onSearch:function(e){var t;a((t=e,function(){var e=Object(ae.a)(te.a.mark((function e(a){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:N}),e.next=3,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(q,"&q=").concat(t)).then((function(e){if(200!==e.status)try{return e.text().then((function(e){throw new Error(e)}))}catch(t){throw t}return e.json()})).then((function(e){a(he(e))})).catch((function(e){var t;a((t=e.message,{type:S,payload:t}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},options:e.data,onChange:function(e){i(e)},selected:o,placeholder:"Search for a city"})]})})},me=(a(114),a(115),a(116),a(73)),pe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ve=(a(117),function(e){var t=new Date(e);return pe[t.getDay()]}),xe=function(e){var t=e.forcast;return Object(ie.jsx)("div",{className:"mini-forcast-card",children:Object(ie.jsx)(P.a,{children:Object(ie.jsxs)(P.a.Body,{children:[Object(ie.jsx)(P.a.Title,{children:ve(t.Date)}),Object(ie.jsx)(P.a.Subtitle,{className:"mb-2 text-muted",children:t.Day.IconPhrase}),Object(ie.jsxs)(P.a.Text,{children:[t.Temperature.Minimum.Value," \u2103 -",t.Temperature.Maximum.Value," \u2103"]})]})})})},ye=a(0),ge=a(131),Te=function(){var e=Object(s.e)((function(e){return e.favorites.favorites})),t=Object(s.e)((function(e){return e.home.locationToView})),a=Object(s.e)((function(e){return e.currentWeather})),n=Object(s.e)((function(e){return e.forcast})),c=Object(s.d)(),o=Object(r.useState)(!1),i=Object(ue.a)(o,2),d=i[0],u=i[1];Object(r.useEffect)((function(){return e.forEach((function(e){e.id===t.id&&u(!0)})),function(){u(!1)}}),[t]);var j;return Object(ie.jsx)("div",{className:"information-card-container",children:Object(ie.jsxs)("div",{className:"information-card",children:[a.loading?Object(ie.jsx)("div",{className:"top-of-information-card",children:Object(ie.jsx)(ge.a,{className:"current-weather-spinner",animation:"border",role:"status",children:Object(ie.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):a.error?Object(ie.jsx)("div",{className:"top-of-information-card",children:Object(ie.jsx)("div",{children:a.error})}):$(t)?Object(ie.jsx)("div",{}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"top-of-information-card",children:[Object(ie.jsx)("div",{className:"today-city-information",children:Object(ie.jsxs)("div",{className:"today-city-name-and-temperature",children:[Object(ie.jsx)("div",{children:t.name}),Object(ie.jsxs)("div",{children:[t.location.Temperature.Metric.Value," \u2103"]})]})}),Object(ie.jsx)("div",{className:"add-to-favorites-container",children:Object(ie.jsxs)(ye.b.Provider,{value:{className:"favorites-icon"},children:[!d&&Object(ie.jsx)(me.b,{onClick:function(){c({type:b,payload:t}),u(!0)}}),d&&Object(ie.jsx)(me.a,{onClick:function(){var e;c((e=t.id,{type:m,payload:e})),u(!1)}})]})})]}),Object(ie.jsxs)("div",{className:"middle-of-information-card",children:[Object(ie.jsx)("img",{width:"120",height:"72",alt:"",src:(j=t.location.WeatherIcon,j<10&&(j="0".concat(j)),"https://developer.accuweather.com/sites/default/files/@@-s.png".replace("@@",j))}),Object(ie.jsx)("span",{className:"current-weather-text",children:t.location.WeatherText})]})]}),Object(ie.jsx)("div",{className:"bottom-of-information-card",children:Object(ie.jsx)("div",{className:"mini-forcast-cards-container",children:n.loading?Object(ie.jsx)(ge.a,{animation:"border",role:"status",children:Object(ie.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):n.error?Object(ie.jsx)("div",{children:n.error}):$(n.data,"and")&&n.data.forcasts.map((function(e){return Object(ie.jsx)("div",{children:Object(ie.jsx)(xe,{forcast:e})},Math.random())}))})})]})})},Ee=a(135),Ne=function(e){var t=e.id,a=e.name,n=e.error,r=Object(s.d)();return Object(ie.jsxs)(Ee.a,{onClose:function(){r(function(e){return{type:C,payload:e}}(t))},delay:3e3,autohide:!0,bg:"danger",children:[Object(ie.jsx)(Ee.a.Header,{children:Object(ie.jsx)("strong",{className:"me-auto",children:a})}),Object(ie.jsx)(Ee.a.Body,{className:"text-white",children:n})]})},we=a(132),Se=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.currentWeather})),a=Object(s.e)((function(e){return e.forcast})),n=Object(s.e)((function(e){return e.home.errorStack}));return Object(r.useEffect)((function(){0===t.data.length&&e(fe(Y,Z)),$(a.data)&&e(oe(Y,!0))}),[]),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(we.a,{position:"top-center",children:n.map((function(e){return Object(ie.jsx)(Ne,{id:e.id,name:e.name,error:e.error},e.id)}))}),Object(ie.jsx)(be,{}),Object(ie.jsx)("div",{className:"home-information-container",children:Object(ie.jsx)(Te,{})})]})},_e=a(133),Ce=a(134),Re=a(51),Ae=a(84),Fe=a(85),ke=(a(121),function(){return Object(ie.jsx)(_e.a,{id:"navbar",bg:"light",variant:"light",children:Object(ie.jsxs)(je.a,{children:[Object(ie.jsxs)(_e.a.Brand,{as:Re.a,to:J,children:[Object(ie.jsx)(Ae.a,{icon:Fe.a,size:"lg",style:{marginRight:10}}),"Weather App"]}),Object(ie.jsxs)(Ce.a,{children:[Object(ie.jsx)(Ce.a.Link,{as:Re.a,to:J,children:"Home"}),Object(ie.jsx)(Ce.a.Link,{as:Re.a,to:z,children:"Favorites"})]})]})})}),He=function(){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ke,{}),Object(ie.jsxs)(B.c,{children:[Object(ie.jsx)(B.a,{exact:!0,path:J,component:Se}),Object(ie.jsx)(B.a,{path:z,component:de})]})]})},Le=Object(j.createStore)(W(D),K,Object(l.composeWithDevTools)(Object(j.applyMiddleware)(Object(d.a)(D),h.a)));i.a.render(Object(ie.jsx)(c.a.StrictMode,{children:Object(ie.jsx)(s.a,{store:Le,children:Object(ie.jsx)(n.a,{history:D,children:Object(ie.jsx)(B.c,{children:Object(ie.jsx)(B.a,{path:"/",component:He})})})})}),document.getElementById("root"))},75:function(e){e.exports=JSON.parse("{}")}},[[124,1,2]]]);
//# sourceMappingURL=main.37a1e1d8.chunk.js.map